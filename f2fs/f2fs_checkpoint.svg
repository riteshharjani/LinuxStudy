<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="2961px" height="634px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.81 Safari/537.36&quot; version=&quot;9.1.3&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;040d5e51-c9d6-80cb-899e-ea549daad821&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g transform="translate(0.5,0.5)"><rect x="0" y="73" width="2960" height="160" fill-opacity="0.3" fill="#10739e" stroke="none" pointer-events="none"/><rect x="25" y="343" width="525" height="290" rx="43.5" ry="43.5" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" font-size="13px"><text x="26.5" y="372"> /* Prepare and write Segment </text><text x="26.5" y="388">   *   summary for HOT/WARM/COLD DATA</text><text x="26.5" y="404">*</text><text x="26.5" y="420">* The structure of compact summary</text><text x="26.5" y="436">* +-------------------+</text><text x="26.5" y="452">* | nat_journal       |</text><text x="26.5" y="468">* +-------------------+</text><text x="26.5" y="484">* | sit_journal         |</text><text x="26.5" y="500">* +-------------------+</text><text x="26.5" y="516">* | hot data summary entries  | (each entry here is =&gt; f2fs_summary-(for 4KB)</text><text x="26.5" y="532">* +-------------------+</text><text x="26.5" y="548">* | warm data summary  entries|  /* nothing to be done(mkfs) */</text><text x="26.5" y="564">* +-------------------+</text><text x="26.5" y="580">* | cold data summary entries |     /* nothing to be done (mkfs) */</text><text x="26.5" y="596">* +-------------------+</text></g><path d="M 240 233 L 240 288 L 156 288 L 156 336.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 156 341.88 L 152.5 334.88 L 156 336.63 L 159.5 334.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 240 233 L 240 288 L 419 288 L 419 336.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 419 341.88 L 415.5 334.88 L 419 336.63 L 422.5 334.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="160" y="73" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="239.5" y="149">Sum-</text><text x="239.5" y="166">Compact</text></g><rect x="0" y="73" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="79.5" y="149">CP</text><text x="79.5" y="166">Page-1</text></g><rect x="400" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="479.5" y="124.5">struct </text><text x="479.5" y="141.5">f2fs_summary_block</text><text x="479.5" y="158.5">SUM_TYPE_NODE</text><text x="479.5" y="175.5">HOT_NODE</text></g><rect x="560" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="639.5" y="116">struct </text><text x="639.5" y="133">f2fs_summary_block</text><text x="639.5" y="150">SUM_TYPE_NODE</text><text x="639.5" y="167">WARM_NODE</text></g><rect x="720" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="799.5" y="116">struct </text><text x="799.5" y="133">f2fs_summary_block</text><text x="799.5" y="150">SUM_TYPE_NODE</text><text x="799.5" y="167">COLD_NODE</text></g><rect x="880" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="959.5" y="150">CP</text><text x="959.5" y="167">Page-2</text></g><rect x="1040" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="1119.5" y="158.5">NAT-BITS-BLOCKS{n}</text></g><rect x="1200" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="1279.5" y="158.5">NAT-BITS-BLOCKS{n}</text></g><rect x="0" y="13" width="1480" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(546.5,-0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="386" height="86" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 386px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1><b>CP-PACK-1<br /></b><b>2MB segment (512 blocks of 4KB)</b></h1></div></div></foreignObject><text x="193" y="49" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h1&gt;&lt;b&gt;CP-PACK-1&lt;br&gt;&lt;/b&gt;&lt;b&gt;2MB segment (512 blocks of 4KB)&lt;/b&gt;&lt;/h1&gt;</text></switch></g><rect x="0" y="232" width="160" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(32.5,225.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="42" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 96px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h3><b>4KB BLOCK-0<br /></b></h3></div></div></foreignObject><text x="47" y="27" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h3&gt;&lt;b&gt;4KB BLOCK-0&lt;br&gt;&lt;/b&gt;&lt;/h3&gt;</text></switch></g><rect x="160" y="234" width="160" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(192.5,227.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="94" height="42" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 96px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h3><b>4KB BLOCK-1<br /></b></h3></div></div></foreignObject><text x="47" y="27" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h3&gt;&lt;b&gt;4KB BLOCK-1&lt;br&gt;&lt;/b&gt;&lt;/h3&gt;</text></switch></g><rect x="1320" y="234" width="160" height="30" fill="#fff2cc" stroke="#d6b656" pointer-events="none"/><g transform="translate(1344.5,227.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="110" height="42" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 110px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h3><b>4KB BLOCK-511<br /></b></h3></div></div></foreignObject><text x="55" y="27" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h3&gt;&lt;b&gt;4KB BLOCK-511&lt;br&gt;&lt;/b&gt;&lt;/h3&gt;</text></switch></g><rect x="1479.93" y="13" width="1480" height="60" fill="#d5e8d4" stroke="#82b366" pointer-events="none"/><g transform="translate(2026.5,-0.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="386" height="86" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 386px; white-space: nowrap; overflow-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><h1><b>CP-PACK-1<br /></b><b>2MB segment (512 blocks of 4KB)</b></h1></div></div></foreignObject><text x="193" y="49" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;h1&gt;&lt;b&gt;CP-PACK-1&lt;br&gt;&lt;/b&gt;&lt;b&gt;2MB segment (512 blocks of 4KB)&lt;/b&gt;&lt;/h1&gt;</text></switch></g><path d="M 1476.64 234.08 L 1476.5 154.51 Q 1476.5 154.5 1476.5 154.49 L 1476.64 74.07 M 1480.64 74.07 L 1480.5 154.5 L 1480.64 234.07 M 1480.64 74.07" fill="none" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/><rect x="1479.93" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="1559.43" y="150">CP</text><text x="1559.43" y="167">Page-1</text></g><rect x="2279.93" y="74" width="160" height="160" rx="24" ry="24" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="2359.43" y="150">CP</text><text x="2359.43" y="167">Page-2</text></g><rect x="320" y="74" width="40" height="160" rx="6" ry="6" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="339.5" y="150">Sum-</text><text x="339.5" y="167">Compact</text></g><rect x="360" y="74" width="40" height="160" rx="6" ry="6" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" text-anchor="middle" font-size="14px"><text x="379.5" y="150">Sum-</text><text x="379.5" y="167">Compact</text></g><path d="M 326.37 253 L 433.63 253" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 321.12 253 L 328.12 249.5 L 326.37 253 L 328.12 256.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 438.88 253 L 431.88 256.5 L 433.63 253 L 431.88 249.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><rect x="545" y="313" width="350" height="230" rx="34.5" ry="34.5" fill="#23445d" stroke="none" pointer-events="none"/><g fill="#FFFFFF" font-family="Tahoma" font-weight="bold" font-size="14px"><text x="546.5" y="398.5">Each sum_compact can be more than 1 PAGE_SIZE</text><text x="546.5" y="415.5"> can be max upto 3 pages.</text><text x="546.5" y="432.5">check function - </text><text x="546.5" y="449.5">read_compacted_summaries.</text></g><path d="M 370 253 Q 490 303 465 278 Q 440 253 713.77 311.67" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 718.91 312.77 L 711.33 314.72 L 713.77 311.67 L 712.8 307.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/></g></svg>